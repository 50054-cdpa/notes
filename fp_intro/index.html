
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Notes for SUTD's CDPA 50.054">
      
      
        <meta name="author" content="Kenny Lu">
      
      
      
        <link rel="prev" href="../introduction/">
      
      
        <link rel="next" href="../fp_scala/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>FP Intro - Compiler Design and Program Analysis 50.054</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CSpline+Sans+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Spline Sans Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#50054-introduction-to-functional-programming" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Compiler Design and Program Analysis 50.054" class="md-header__button md-logo" aria-label="Compiler Design and Program Analysis 50.054" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 3a2 2 0 0 1 2-2h9.982a2 2 0 0 1 1.414.586l4.018 4.018A2 2 0 0 1 21 7.018V21a2 2 0 0 1-2 2H4.75a.75.75 0 0 1 0-1.5H19a.5.5 0 0 0 .5-.5V8.5h-4a2 2 0 0 1-2-2v-4H5a.5.5 0 0 0-.5.5v6.25a.75.75 0 0 1-1.5 0Zm12-.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0-.146-.336l-4.018-4.018A.5.5 0 0 0 15 2.5Z"/><path d="M4.53 12.24a.75.75 0 0 1-.039 1.06l-2.639 2.45 2.64 2.45a.75.75 0 1 1-1.022 1.1l-3.23-3a.75.75 0 0 1 0-1.1l3.23-3a.75.75 0 0 1 1.06.04Zm3.979 1.06a.75.75 0 1 1 1.02-1.1l3.231 3a.75.75 0 0 1 0 1.1l-3.23 3a.75.75 0 1 1-1.021-1.1l2.639-2.45-2.64-2.45Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Compiler Design and Program Analysis 50.054
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              FP Intro
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/50054-cdpa/notes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    50054-cdpa
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../handout/" class="md-tabs__link">
        
  
    
  
  Handout

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../schedule/" class="md-tabs__link">
        
  
    
  
  Schedule

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../introduction/" class="md-tabs__link">
          
  
    
  
  W1

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../fp_scala/" class="md-tabs__link">
          
  
    
  
  W2

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../fp_scala_poly/" class="md-tabs__link">
          
  
    
  
  W3

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../fp_applicative_monad/" class="md-tabs__link">
          
  
    
  
  W4

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../syntax_analysis/" class="md-tabs__link">
          
  
    
  
  W5

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../syntax_analysis_parser_combinator/" class="md-tabs__link">
          
  
    
  
  W6

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../semantic_analysis/" class="md-tabs__link">
          
  
    
  
  W8

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../static_semantics/" class="md-tabs__link">
          
  
    
  
  W9

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../name_analysis/" class="md-tabs__link">
          
  
    
  
  W10

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../sign_analysis_lattice/" class="md-tabs__link">
          
  
    
  
  W11

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../code_generation/" class="md-tabs__link">
          
  
    
  
  W12

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../memory_management/" class="md-tabs__link">
          
  
    
  
  W13

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Compiler Design and Program Analysis 50.054" class="md-nav__button md-logo" aria-label="Compiler Design and Program Analysis 50.054" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 3a2 2 0 0 1 2-2h9.982a2 2 0 0 1 1.414.586l4.018 4.018A2 2 0 0 1 21 7.018V21a2 2 0 0 1-2 2H4.75a.75.75 0 0 1 0-1.5H19a.5.5 0 0 0 .5-.5V8.5h-4a2 2 0 0 1-2-2v-4H5a.5.5 0 0 0-.5.5v6.25a.75.75 0 0 1-1.5 0Zm12-.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0-.146-.336l-4.018-4.018A.5.5 0 0 0 15 2.5Z"/><path d="M4.53 12.24a.75.75 0 0 1-.039 1.06l-2.639 2.45 2.64 2.45a.75.75 0 1 1-1.022 1.1l-3.23-3a.75.75 0 0 1 0-1.1l3.23-3a.75.75 0 0 1 1.06.04Zm3.979 1.06a.75.75 0 1 1 1.02-1.1l3.231 3a.75.75 0 0 1 0 1.1l-3.23 3a.75.75 0 1 1-1.021-1.1l2.639-2.45-2.64-2.45Z"/></svg>

    </a>
    Compiler Design and Program Analysis 50.054
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/50054-cdpa/notes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    50054-cdpa
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../handout/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Handout
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    W1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            W1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    FP Intro
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    FP Intro
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-outcomes" class="md-nav__link">
    <span class="md-ellipsis">
      Learning Outcomes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-functional-programming" class="md-nav__link">
    <span class="md-ellipsis">
      What is Functional programming?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-fp-differs-from-other-programming-languages" class="md-nav__link">
    <span class="md-ellipsis">
      How FP differs from other programming languages?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-fp-in-compiler-design" class="md-nav__link">
    <span class="md-ellipsis">
      Why FP in Compiler Design?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lambda-calculus" class="md-nav__link">
    <span class="md-ellipsis">
      Lambda Calculus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lambda Calculus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lambda-expression" class="md-nav__link">
    <span class="md-ellipsis">
      Lambda Expression
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluation-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation Rules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Evaluation Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beta-reduction" class="md-nav__link">
    <span class="md-ellipsis">
      Beta Reduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#substitution-and-alpha-renaming" class="md-nav__link">
    <span class="md-ellipsis">
      Substitution and Alpha Renaming
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluation-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation strategies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Evaluation strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interesting-notes" class="md-nav__link">
    <span class="md-ellipsis">
      Interesting Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#let-binding" class="md-nav__link">
    <span class="md-ellipsis">
      Let Binding
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Let Binding">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approach-1-extending-the-syntax-and-evaluation-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Approach 1 - extending the syntax and evaluation rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approach-2-desugaring" class="md-nav__link">
    <span class="md-ellipsis">
      Approach 2 - desugaring
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-expression" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Expression
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conditional Expression">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approach-1-extending-the-syntax-and-the-evaluation-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Approach 1 - Extending the syntax and the evaluation rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approach-2-church-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      Approach 2 - Church Encoding
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recursion" class="md-nav__link">
    <span class="md-ellipsis">
      Recursion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Recursion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approach-1-extending-the-syntax-and-the-evaluation-rules_1" class="md-nav__link">
    <span class="md-ellipsis">
      Approach 1 - Extending the syntax and the evaluation rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approach-2-church-encoding_1" class="md-nav__link">
    <span class="md-ellipsis">
      Approach 2 - Church Encoding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discussion-1" class="md-nav__link">
    <span class="md-ellipsis">
      Discussion 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discussion-2" class="md-nav__link">
    <span class="md-ellipsis">
      Discussion 2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    W2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            W2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fp_scala/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FP Scala
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    W3
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            W3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fp_scala_poly/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FP Scala Polymorphic
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    W4
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            W4
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fp_applicative_monad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FP Applicative Monads
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    W5
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            W5
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../syntax_analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Syntax Analysis
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    W6
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            W6
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../syntax_analysis_parser_combinator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Syntax Analysis Parser Combinator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ir_pseudo_assembly/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IR & Pseudo Assembly
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    W8
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            W8
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../semantic_analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Semantic Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dynamic_semantics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dynamic Semantics
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    W9
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            W9
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../static_semantics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Static Semantics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../static_semantics_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Static Semantics for Lambda Calculus
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    W10
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            W10
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../name_analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Name Analysis
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    W11
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            W11
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sign_analysis_lattice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lattices & Sign Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../liveness_analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Liveness Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code_generation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Generation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    W12
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            W12
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code_generation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Generation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced_static_analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Information Flow Analysis
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    W13
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            W13
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../memory_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memory Management
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-outcomes" class="md-nav__link">
    <span class="md-ellipsis">
      Learning Outcomes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-functional-programming" class="md-nav__link">
    <span class="md-ellipsis">
      What is Functional programming?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-fp-differs-from-other-programming-languages" class="md-nav__link">
    <span class="md-ellipsis">
      How FP differs from other programming languages?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-fp-in-compiler-design" class="md-nav__link">
    <span class="md-ellipsis">
      Why FP in Compiler Design?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lambda-calculus" class="md-nav__link">
    <span class="md-ellipsis">
      Lambda Calculus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lambda Calculus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lambda-expression" class="md-nav__link">
    <span class="md-ellipsis">
      Lambda Expression
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluation-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation Rules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Evaluation Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beta-reduction" class="md-nav__link">
    <span class="md-ellipsis">
      Beta Reduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#substitution-and-alpha-renaming" class="md-nav__link">
    <span class="md-ellipsis">
      Substitution and Alpha Renaming
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluation-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation strategies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Evaluation strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interesting-notes" class="md-nav__link">
    <span class="md-ellipsis">
      Interesting Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#let-binding" class="md-nav__link">
    <span class="md-ellipsis">
      Let Binding
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Let Binding">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approach-1-extending-the-syntax-and-evaluation-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Approach 1 - extending the syntax and evaluation rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approach-2-desugaring" class="md-nav__link">
    <span class="md-ellipsis">
      Approach 2 - desugaring
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-expression" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Expression
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conditional Expression">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approach-1-extending-the-syntax-and-the-evaluation-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Approach 1 - Extending the syntax and the evaluation rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approach-2-church-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      Approach 2 - Church Encoding
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recursion" class="md-nav__link">
    <span class="md-ellipsis">
      Recursion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Recursion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approach-1-extending-the-syntax-and-the-evaluation-rules_1" class="md-nav__link">
    <span class="md-ellipsis">
      Approach 1 - Extending the syntax and the evaluation rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approach-2-church-encoding_1" class="md-nav__link">
    <span class="md-ellipsis">
      Approach 2 - Church Encoding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discussion-1" class="md-nav__link">
    <span class="md-ellipsis">
      Discussion 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discussion-2" class="md-nav__link">
    <span class="md-ellipsis">
      Discussion 2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="50054-introduction-to-functional-programming">50.054 - Introduction to functional programming<a class="headerlink" href="#50054-introduction-to-functional-programming" title="Permanent link">&para;</a></h1>
<h2 id="learning-outcomes">Learning Outcomes<a class="headerlink" href="#learning-outcomes" title="Permanent link">&para;</a></h2>
<p>By the end of this lesson, you should be able to:</p>
<ul>
<li>Characterize functional programming</li>
<li>Comprehend, evaluate lambda terms</li>
<li>Differentiate different evaluation strategies</li>
<li>Implement simple algorithms using Lambda Calculus</li>
</ul>
<h2 id="what-is-functional-programming">What is Functional programming?<a class="headerlink" href="#what-is-functional-programming" title="Permanent link">&para;</a></h2>
<p>Functional programming as suggested by its name, is a programming paradigm in which functions are first class values.
In the ideal model of FP, computations are stateless. Variables are bound once and remain unchanged afterwards. Computation is performed
by rewriting the current expression into the (reduced) expression via evaluation rules.</p>
<h2 id="how-fp-differs-from-other-programming-languages">How FP differs from other programming languages?<a class="headerlink" href="#how-fp-differs-from-other-programming-languages" title="Permanent link">&para;</a></h2>
<p>The main differences were listed in the earlier section.</p>
<p>However many modern program languages (including those are not FP) adopted many "features" from the functional programming paradigm. It has been proven that the FP coding style improves code qualities in many aspects.</p>
<p>Consider the following two different implementations of the insertion sort algorithm (assuming that the readers having prior knowledge of Python and insertion sort algorithm):</p>
<div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span>
<span class="normal"><a href="#__codelineno-0-8">8</a></span>
<span class="normal"><a href="#__codelineno-0-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="k">def</span> <span class="nf">isort</span><span class="p">(</span><span class="n">vals</span><span class="p">):</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a>   <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">vals</span><span class="p">)):</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a>      <span class="n">curr</span> <span class="o">=</span> <span class="n">i</span>   
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a>      <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a>         <span class="c1"># scan backward to insert vals[curr] into the right pos</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a>         <span class="k">if</span> <span class="n">vals</span><span class="p">[</span><span class="n">curr</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">vals</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a>            <span class="n">vals</span><span class="p">[</span><span class="n">curr</span><span class="p">],</span> <span class="n">vals</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">vals</span><span class="p">[</span><span class="n">curr</span><span class="p">]</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a>            <span class="n">curr</span> <span class="o">=</span> <span class="n">j</span><span class="o">-</span><span class="mi">1</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9"></a>   <span class="k">return</span> <span class="n">vals</span>
</span></code></pre></div></td></tr></table></div>
<div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="k">def</span> <span class="nf">isort2</span><span class="p">(</span><span class="n">vals</span><span class="p">):</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a>   <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">xs</span><span class="p">):</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a>      <span class="c1"># invarant: xs is already sorted in descending order</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a>      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a>         <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">xs</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a>            <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">+</span> <span class="n">xs</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7"></a>         <span class="k">else</span><span class="p">:</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8"></a>            <span class="k">return</span> <span class="p">[</span><span class="n">xs</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span> <span class="n">insert</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">xs</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9"></a>      <span class="k">else</span><span class="p">:</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10"></a>         <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11"></a>   <span class="k">def</span> <span class="nf">isort_sub</span><span class="p">(</span><span class="nb">sorted</span><span class="p">,</span> <span class="n">to_be_sorted</span><span class="p">):</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12"></a>      <span class="c1"># invariant sorted is already sorted in descending order</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13"></a>      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">to_be_sorted</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14"></a>         <span class="n">val</span> <span class="o">=</span> <span class="n">to_be_sorted</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15"></a>         <span class="n">to_be_sorted_next</span> <span class="o">=</span> <span class="n">to_be_sorted</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16"></a>         <span class="n">sorted_next</span> <span class="o">=</span> <span class="n">insert</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">)</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17"></a>         <span class="k">return</span> <span class="n">isort_sub</span><span class="p">(</span><span class="n">sorted_next</span><span class="p">,</span> <span class="n">to_be_sorted_next</span><span class="p">)</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18"></a>      <span class="k">else</span><span class="p">:</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19"></a>         <span class="k">return</span> <span class="nb">sorted</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20"></a>   <span class="k">return</span> <span class="n">isort_sub</span><span class="p">([],</span> <span class="n">vals</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<p><code>isort</code> is implemented in the imperative style; the way we are familiar with.</p>
<p><code>isort2</code> is implemented in a functional programming style, we've seen it but we are not too familar with it.
We probably won't code in <code>isort2</code> in Python, because:</p>
<ol>
<li>it is lengthy</li>
<li>it is less efficient, as it involves recursion (function call stack is building up) and there are too many list slicing and concatenation operations.</li>
</ol>
<p>But why are people are interested in FP? The reason is that the invariant of <code>isort</code> is much harder to derive compared to <code>isort2</code>
in which the nested functions' parameters are the subject of the invariants, and the variables in <code>isort2</code> are mostly immutable, i.e.
they don't change over execution, and we won't need symbolic execution or variable renaming.</p>
<p>Furthermore in some FP languages with advanced typing systems such as type constraints and dependent types, these invariants in <code>isort2</code>
can be expressed as type constraints, which can be verified by the compiler.</p>
<p>What about the inefficiency? Most of the FP compilers handle recursions with care and are able to optimize them into efficient code.
Data structure in FP are inductively defined, and optimizations such as shallow cloning are used to avoid data structure reconstruction.</p>
<p>In fact many modern FP languagues are quite fast. For example:</p>
<ul>
<li><a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/fastest/ghc-clang.html">https://benchmarksgame-team.pages.debian.net/benchmarksgame/fastest/ghc-clang.html</a></li>
<li><a href="https://thume.ca/2019/04/29/comparing-compilers-in-rust-haskell-c-and-python/">https://thume.ca/2019/04/29/comparing-compilers-in-rust-haskell-c-and-python/</a></li>
</ul>
<h2 id="why-fp-in-compiler-design">Why FP in Compiler Design?<a class="headerlink" href="#why-fp-in-compiler-design" title="Permanent link">&para;</a></h2>
<p>Implementing a compiler requires rigorous software design and engineering principles. Bugs arising from a compiler have severe implication in softwares developed in the language that it compiles.</p>
<p>To establish correctness results, testing is not sufficient to eliminate errors in the compilers. When designing a compiler, we often begin with formal reasoning with mathematical foundation as the specification. As we learn later in this module, these specifications are presented in a form in which resembles the data structures and accessor methods found in many functional programming languages. Thus, it is arguably easier to implement the given specification in FP programs compared to other programming paradigms.</p>
<p>One key difference is that in FP, there is no for-loop or while-loop. Iteration has to be implemented via recursive functions.</p>
<p>This implies that loop invariances are not constraints among the input and output of these recurisve function.</p>
<p>In many main stream functional programming languages, such as Ocaml, Haskell and Scala are shipped with powerful type systems which allow us to express some of the properties of the algorithms in terms of type constraints, by doing so, these (invariant) properties are verifiable by the compilers of function programming languages.</p>
<h2 id="lambda-calculus">Lambda Calculus<a class="headerlink" href="#lambda-calculus" title="Permanent link">&para;</a></h2>
<p><em>Lambda Calculus</em> is the minimal core of many functional programming languages.
It consists of the <em>Lambda expression</em> and the <em>evaluation rule(s)</em>.</p>
<h3 id="lambda-expression">Lambda Expression<a class="headerlink" href="#lambda-expression" title="Permanent link">&para;</a></h3>
<blockquote>
<p><a href="https://imgur.com/gallery/XBHub">This comic gives a very easy way to understand Lambda Expressions</a></p>
</blockquote>
<p>The valid syntax of lambda expression is described as the following EBNF (<a href="https://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_form">Extended Backus Naur Form</a>) grammar:</p>
<div class="arithmatex">\[
\begin{array}{rccl}
 {\tt (Lambda\ Terms)} &amp; t &amp; ::= &amp; x \mid \lambda x.t \mid t\ t
\end{array}
\]</div>
<p>Where:</p>
<ul>
<li>Each line denotes a grammar rule</li>
<li>The left hand side (LHS) of the <code>::=</code> is a non-terminal symbol, in this case <span class="arithmatex">\(t\)</span> is a non-terminal symbol.</li>
<li>The RHS of the <code>::=</code> is a set of alternatives, separated by <code>|</code>. Each alternative denote a possible outcome of expanding the LHS non-terminal. In this case <span class="arithmatex">\(t\)</span> has three possibilities, i.e. <span class="arithmatex">\(x\)</span>, <span class="arithmatex">\(\lambda x.t\)</span> or <span class="arithmatex">\(t\ t\)</span>.</li>
<li><span class="arithmatex">\(x\)</span> denotes a variable,</li>
<li><span class="arithmatex">\(\lambda x.t\)</span> denotes a lambda abstraction.<ul>
<li>Within a lambda abstraction,  <span class="arithmatex">\(x\)</span> is the bound variable (c.f. formal argument of the function)
and <span class="arithmatex">\(t\)</span> is the body.</li>
</ul>
</li>
<li><span class="arithmatex">\(t\ t\)</span> denotes a function application.</li>
</ul>
<p>For example, the following are three instances of <span class="arithmatex">\(t\)</span>.</p>
<ol>
<li><span class="arithmatex">\(x\)</span></li>
<li><span class="arithmatex">\(\lambda x.x\)</span></li>
<li><span class="arithmatex">\((\lambda x.x)\ y\)</span></li>
</ol>
<p>Note that given a lambda term, there might be multiple ways of parsing (interpreting) it. For instance,
Given <span class="arithmatex">\(\lambda x.x\ \lambda y.y\)</span>, we could interpret it as either</p>
<ol>
<li><span class="arithmatex">\((\lambda x.x)\ (\lambda y.y)\)</span>, or</li>
<li><span class="arithmatex">\(\lambda x.(x\ \lambda y.y)\)</span></li>
</ol>
<p>As a convention, in the absence of parentheses, we take 2 as the default interpretation. We should include parentheses whenever ambiguity arise as much as we can.</p>
<h3 id="evaluation-rules">Evaluation Rules<a class="headerlink" href="#evaluation-rules" title="Permanent link">&para;</a></h3>
<p>Lambda calculus is very simple and elegant. To execute (or we often say "to evaluate") a given lambda term, we apply the evaluation rules to rewrite the term.</p>
<p>There are only two rules to consider.</p>
<p>Each rule is defined via a reduction relation <span class="arithmatex">\(t \longrightarrow t'\)</span>, which reads as <span class="arithmatex">\(t\)</span> is reduced to <span class="arithmatex">\(t'\)</span> by a step.</p>
<h4 id="beta-reduction">Beta Reduction<a class="headerlink" href="#beta-reduction" title="Permanent link">&para;</a></h4>
<div class="arithmatex">\[
\begin{array}{rl}
{\tt (\beta\ reduction)} &amp; (\lambda x.t_1)\ t_2 \longrightarrow [t_2/x] t_1
\end{array}
\]</div>
<p>What's new here is the term <span class="arithmatex">\([t_2/x]\)</span>, which is a meta term, which
refers to a substitution. <span class="arithmatex">\([t_2/x]t_1\)</span> denotes the application of the
substitution <span class="arithmatex">\([t_2/x]\)</span> to <span class="arithmatex">\(t_1\)</span>, Informally speaking it means we
replace every occurrence of the formal argument <span class="arithmatex">\(x\)</span> in <span class="arithmatex">\(t_1\)</span> with <span class="arithmatex">\(t_2\)</span>.</p>
<p>For instance, recall our earlier example:</p>
<div class="arithmatex">\[
\begin{array}{rl}
(\lambda x.x)\ (\lambda y.y) &amp;
\longrightarrow_{\scriptsize {\tt (\beta\ reduction)}} \\
\lbrack(\lambda y.y)/x \rbrack x &amp; \longrightarrow _{\scriptsize {\tt (substitution)}} \\
\lambda y.y
\end{array}
\]</div>
<p>It is common understanding in programming that there are scopes of
variables. We can reuse the same name for different variables in
different scopes without affecting the meanings of the program.
Consider a variant of our running example:</p>
<div class="arithmatex">\[
 (\lambda x.x)\ {\tt (\lambda x. x)}
\]</div>
<p>Here, we use a different font type for variables named <span class="arithmatex">\(x\)</span> in different scopes.
<span class="arithmatex">\(x\)</span> is bound in the first lambda abstraction and<br />
<span class="arithmatex">\({\tt x}\)</span> is bound in the second lambda abstraction. It behaves the
same as the original running example except for the name of the
variable in the second lambda abstraction.</p>
<p>To formally define the substitution operation used in the
<span class="arithmatex">\(\beta\)</span> reduction rule, we need to compute the free variables,
i.e. variables that are not bound.</p>
<div class="arithmatex">\[
\begin{array}{rcl}
fv(x) &amp; = &amp; \{x\}\\
fv(\lambda x.t) &amp; = &amp; fv(t) - \{x\} \\
fv(t_1\ t_2) &amp; = &amp; fv(t_1) \cup fv(t_2)
\end{array}
\]</div>
<p>For instance.</p>
<div class="arithmatex">\[
\begin{array}{rcl}
fv(\lambda x.x) &amp; = &amp; fv(x) - \{x\} \\
                &amp; = &amp; \{ \}
\end{array}
\]</div>
<div class="arithmatex">\[
\begin{array}{rcl}
fv(\lambda x.x\ (\lambda z.y\ z)) &amp; = &amp; fv(x\ (\lambda z.y\ z)) - \{x\}
\\
   &amp; = &amp; (\{x\} \cup fv(\lambda z.y\ z)) - \{x\} \\
   &amp; = &amp; (\{x\} \cup (fv(y\ z) - \{z\})) - \{x\} \\
   &amp; = &amp; (\{x\} \cup ((\{y\} \cup \{z\}) - \{z\})) - \{x\} \\
   &amp; = &amp; (\{x\} \cup (\{y, z\} - \{z\})) - \{x\} \\
   &amp; = &amp; \{ y \}
\end{array}
\]</div>
<p>One common error we often encounter is <em>capturing the free variables</em>.</p>
<p>Consider:</p>
<div class="arithmatex">\[
(\lambda x. \lambda y.x\ y)\ ({\tt y}\ w)
\]</div>
<p>Note:</p>
<div class="arithmatex">\[
fv((\lambda x. \lambda y.x\ y)\ ({\tt y}\ w)) =  \{ {\tt y}, w \}
\]</div>
<p>Thus:
$$
\begin{array}{rl}
(\lambda x. \lambda y.x y) ({\tt y} w) &amp; \longrightarrow_{\scriptsize {\tt (\beta reduction)}} \
\lbrack({\tt y} w)/x\rbrack \lambda y.x y &amp; \longrightarrow_{\scriptsize {\tt (substitution)}} \
\lambda y. ({\tt y} w) y
\end{array}
$$</p>
<p>Error! We captured the free variable <span class="arithmatex">\({\tt y}\)</span> in the lambda
abstraction accidentally via substitution.
Now the free variable <span class="arithmatex">\({\tt y}\)</span> is "mixed up" with the lambda bound variable <span class="arithmatex">\(y\)</span> by mistake.</p>
<h4 id="substitution-and-alpha-renaming">Substitution and Alpha Renaming<a class="headerlink" href="#substitution-and-alpha-renaming" title="Permanent link">&para;</a></h4>
<p>In the following we consider all the possible cases for subsititution</p>
<div class="arithmatex">\[
\begin{array}{rcll}
 \lbrack t_1 / x \rbrack x &amp; = &amp; t_1 \\
 \lbrack t_1 / x \rbrack y &amp; = &amp; y &amp; {\tt if}\  x \neq y \\
 \lbrack t_1 / x \rbrack (t_2\ t_3) &amp; = &amp; \lbrack t_1 / x \rbrack t_2\
 \lbrack t_1 / x \rbrack t_3 &amp; \\
 \lbrack t_1 / x \rbrack \lambda y.t_2 &amp; = &amp; \lambda y. \lbrack t_1 / x
 \rbrack t_2 &amp; {\tt if}\  y\neq x\  {\tt and}\  y \not \in fv(t_1)
\end{array}
\]</div>
<p>In case  </p>
<div class="arithmatex">\[
y\neq x\  {\tt and} \ y \not \in fv(t_1)
\]</div>
<p>is not satified, we need to rename the lambda bound variables that are clashing. Recall:</p>
<div class="arithmatex">\[
(\lambda x. \lambda y.x\ y)\ ({\tt y}\ w)
\]</div>
<p>We rename the inner lambda bound variable <span class="arithmatex">\(y\)</span> to <span class="arithmatex">\(z\)</span>:</p>
<div class="arithmatex">\[
(\lambda x. \lambda z.x\ z)\ ({\tt y}\ w)
\]</div>
<p>to avoid clashing, prior to applying the <span class="arithmatex">\(\beta\)</span> reduction.
The renaming operation is also known as the <span class="arithmatex">\(\alpha\)</span> renaming.</p>
<h3 id="evaluation-strategies">Evaluation strategies<a class="headerlink" href="#evaluation-strategies" title="Permanent link">&para;</a></h3>
<p>So far we have three rules (roughly)  <span class="arithmatex">\(\beta\)</span> reduction, substitution, and  <span class="arithmatex">\(\alpha\)</span> renaming.</p>
<p>Given a lambda term, in order to evaluate it, we need to identify places that we can apply these rules.</p>
<p>We call a (sub-)expression of shape <span class="arithmatex">\((\lambda x.t_1)\ t_2\)</span> a <em>redex</em>.</p>
<p>The task is to look for redexes in a lambda term and rewrite them by applying  <span class="arithmatex">\(\beta\)</span> reduction and substitution, and sometimes  <span class="arithmatex">\(\alpha\)</span> renaming to avoid capturing free variables.</p>
<p>But in what order shall we apply these rules?</p>
<p>There are two mostly known strategies</p>
<ol>
<li>Inner-most, leftmost - Applicative Order Reduction (AOR)</li>
<li>Outer-most, leftmost - Normal Order Reduction (NOR)</li>
</ol>
<p>Consider <span class="arithmatex">\((\lambda x. ((\lambda x. x)\ x))\ (\lambda y.y)\)</span>,</p>
<ul>
<li>AOR:</li>
</ul>
<div class="arithmatex">\[
\begin{array}{rll}
(\lambda x. (\underline{(\lambda x. x)\ x}))\ (\lambda y.y)  &amp;
\longrightarrow_{\tt (\beta\ reduction)} &amp;\\
\underline{(\lambda x.x)\ (\lambda y.y)}  &amp; \longrightarrow_{\tt (\beta\ reduction)} \\
\lambda y.y
\end{array}
\]</div>
<ul>
<li>NOR:</li>
</ul>
<div class="arithmatex">\[
\begin{array}{rl}
\underline{(\lambda x. ((\lambda x. x)\ x))}\ (\lambda y.y)  &amp;
\longrightarrow_{\tt(\alpha)} \\
\underline{(\lambda z. [z/x]((\lambda x.x)\ x))}\ (\lambda y.y) &amp; \longrightarrow_{\tt (substitution)} \\
\underline{(\lambda z. ([z/x](\lambda x.x)\ [z/x]x))}\ (\lambda y.y) &amp; \longrightarrow_{\tt (substitution)} \\
\underline{(\lambda z. ([z/x](\lambda x.x)\ z))}\ (\lambda y.y) &amp; \longrightarrow_{(\alpha)} \\
\underline{(\lambda z. ([z/x](\lambda u.[u/x]x)\ z))}\ (\lambda y.y) &amp; \longrightarrow_{\tt (substitution)} \\
\underline{(\lambda z. ([z/x](\lambda u.u)\ z))}\ (\lambda y.y) &amp; \longrightarrow_{\tt (substitution)} \\
\underline{(\lambda z. ((\lambda u. u)\ z))\ (\lambda y.y)}  &amp;
\longrightarrow_{\tt(\beta)} \\  
\underline{(\lambda u. u)\ (\lambda y.y)} &amp;
\longrightarrow_{\tt (\beta)}  \\
\lambda y.y
\end{array}
\]</div>
<h4 id="interesting-notes">Interesting Notes<a class="headerlink" href="#interesting-notes" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>Some connection with real world languages:</p>
<ul>
<li>Call By Value semantics (CBV, found in C, C++, etc.) is like AOR except that we do not evaluate under lambda abstractions.</li>
<li>Call By Name semantics (CBN, found in Haskell, etc.) is like NOR except that we do not evaluate under lambda abstractions.</li>
</ul>
</li>
<li>
<p>AOR or NOR, which one is better?</p>
<ul>
<li>By Church-Rosser Theorem, if a lambda term can be evaluated in two different ways and both ways terminate, both will yield the same result.</li>
<li>Recall our earlier example.</li>
<li>So how can it be non-terminating? Consider:</li>
</ul>
<div class="arithmatex">\[
\begin{array}{rl}
(\lambda x.x\ x)\ (\lambda x.x\ x) &amp; \longrightarrow
\\
\lbrack(\lambda x.x\ x)/x\rbrack (x\ x) &amp; \longrightarrow
\\
(\lambda x.x\ x)\ (\lambda x.x\ x)  &amp; \longrightarrow
\\
...
\end{array}
\]</div>
</li>
<li>
<p>NOR seems computationally more expensive, but is also more likely to terminate than AOR. Consider how
      <span class="arithmatex">\(((\lambda x.\lambda y.x)\ x)\  ((\lambda x.x\ x)\ (\lambda x.x\ x))\)</span> terminates in NOR with <span class="arithmatex">\(x\)</span>, but diverges in AOR.</p>
</li>
<li>NOR can be used to evaluate terms that deals with infinite data.</li>
</ol>
<h3 id="let-binding">Let Binding<a class="headerlink" href="#let-binding" title="Permanent link">&para;</a></h3>
<p>Let-binding allows us to introduce local (immutable) variables.</p>
<h4 id="approach-1-extending-the-syntax-and-evaluation-rules">Approach 1 - extending the syntax and evaluation rules<a class="headerlink" href="#approach-1-extending-the-syntax-and-evaluation-rules" title="Permanent link">&para;</a></h4>
<p>We extend the syntax with let-binding:</p>
<div class="arithmatex">\[
\begin{array}{rccl}
 {\tt (Lambda\ Terms)} &amp; t &amp; ::= &amp; x \mid \lambda x.t \mid t\ t \mid let\ x=\ t\ in\ t
\end{array}
\]</div>
<p>and the evaluation rule:</p>
<div class="arithmatex">\[
\begin{array}{rl}
{\tt (Let)} &amp; let\ x=t_1\ in\ t_2 \longrightarrow [t_1/x]t_2 \\ \\
\end{array}
\]</div>
<p>and the substitution rule and the free variable function <span class="arithmatex">\(fv()\)</span>:</p>
<div class="arithmatex">\[
\begin{array}{rcl}
\lbrack t_1 / x \rbrack let\ y = t_2\ in\ t_3 &amp; = &amp; let\ y = \lbrack t_1 / x \rbrack t_2\ in\ \lbrack t_1 / x \rbrack t_3 &amp; {\tt if}\  y\neq x\  {\tt and}\  y \not \in fv(t_1) \\
\end{array} 
\]</div>
<div class="arithmatex">\[
\begin{array}{rcl}
fv(let\ x=t_1\ in\ t_2) &amp; = &amp; (fv(t_1) - \{x\}) \cup fv(t_2) \\
\end{array}
\]</div>
<p>Note that the alpha renaming should be applied when name clash arises.</p>
<h4 id="approach-2-desugaring">Approach 2 - desugaring<a class="headerlink" href="#approach-2-desugaring" title="Permanent link">&para;</a></h4>
<p>In the alternative approach, we could use a pre-processing step to desugar the let-binding into an application. In compiler context, <em>desugaring</em> refers to the process of rewriting the source code from some high-level form to the core language.</p>
<p>We can rewrite:</p>
<div class="arithmatex">\[
let\ x=t_1\ in\ t_2
\]</div>
<p>into:</p>
<div class="arithmatex">\[
(\lambda x.t_2)\ t_1
\]</div>
<p>where <span class="arithmatex">\(x \not\in fv(t_1)\)</span>.</p>
<blockquote>
<p>What happen if <span class="arithmatex">\(x \in fv(t_1)\)</span>? It forms a recursive definition. We will look into recursion in a later section.</p>
</blockquote>
<h3 id="conditional-expression">Conditional Expression<a class="headerlink" href="#conditional-expression" title="Permanent link">&para;</a></h3>
<p>A language is pretty much useless without conditional <span class="arithmatex">\(if\ t_1\ then\ t_2\ else\ t_3\)</span>. There are at least
two different ways of incorporating conditional expression in our lambda term language.</p>
<h4 id="approach-1-extending-the-syntax-and-the-evaluation-rules">Approach 1 - Extending the syntax and the evaluation rules<a class="headerlink" href="#approach-1-extending-the-syntax-and-the-evaluation-rules" title="Permanent link">&para;</a></h4>
<p>We could extend the grammar</p>
<div class="arithmatex">\[
\begin{array}{rccl}
 {\tt (Lambda\ Terms)} &amp; t &amp; ::= &amp; x \mid \lambda x.t \mid t\ t \mid let\ x=\ t\ in\ t \mid  if\ t\ then\ t\ else\ t \mid t\ op\ t \mid c \\
 {\tt (Builtin\ Operators)} &amp; op &amp; ::= &amp; + \mid - \mid * \mid / \mid\ == \\
 {\tt (Builtin\ Constants)} &amp; c &amp; ::= &amp; 0 \mid 1 \mid ... \mid true \mid false
\end{array}
\]</div>
<p>and the evaluation rules</p>
<div class="arithmatex">\[
\begin{array}{rc}
{\tt (\beta\ reduction)} &amp; (\lambda x.t_1)\ t_2 \longrightarrow [t_2/x] t_1 \\ \\
{\tt (ifI)} &amp; \begin{array}{c}
               t_1 \longrightarrow t_1'  \\
               \hline
               if\ t_1\ then\ t_2\ else\ t_3 \longrightarrow if\ t_1'\ then\ t_2\ else\ t_3
               \end{array} \\ \\
{\tt (ifT)} &amp;  if\ true\ then\ t_2\ else\ t_3 \longrightarrow t_2 \\ \\
{\tt (ifF)} &amp;  if\ false\ then\ t_2\ else\ t_3 \longrightarrow t_3 \\ \\
{\tt (OpI1)} &amp; \begin{array}{c}
                t_1 \longrightarrow t_1' \\
                \hline
                t_1\ op\ t_2\  \longrightarrow t_1'\ op\ t_2
                \end{array} \\ \\
{\tt (OpI2)} &amp; \begin{array}{c}
                t_2 \longrightarrow t_2' \\
                \hline
                c_1\ op\ t_2\  \longrightarrow c_1\ op\ t_2'
                \end{array} \\ \\
{\tt (OpC)} &amp;  \begin{array}{c}
                invoke\ low\ level\ call\  op(c_1, c_2) = c_3 \\
                \hline  
                c_1\ op\ c_2\  \longrightarrow c_3
                \end{array} \\ \\
                ...
\end{array}
\]</div>
<p>In the above we use a horizontal line to separate complex deduction rules that have some premise. The relations and statement written above the horizontal line are called the <strong>premises</strong>, and the relation the written below is called the <strong>conclusion</strong>. The conclusion holds if the premises are valid.</p>
<ul>
<li>The rule <span class="arithmatex">\({\tt (ifI)}\)</span> states that if we can evaluate  <span class="arithmatex">\(t_1\)</span> to  <span class="arithmatex">\(t_1'\)</span>, then  <span class="arithmatex">\(if\ t_1\ then\ t_2\ else\ t_3\)</span> can be evaluated to  <span class="arithmatex">\(if\ t_1' \ then\ t_2\ else\ t_3\)</span>. In otherwords, for us to reduce <span class="arithmatex">\(if\ t_1\ then\ t_2\ else\ t_3\)</span> to <span class="arithmatex">\(if\ t_1' \ then\ t_2\ else\ t_3\)</span>, a pre-condition is to reduce <span class="arithmatex">\(t_1\)</span> to <span class="arithmatex">\(t_1'\)</span>. </li>
<li>The rule  <span class="arithmatex">\({\tt (ifT)}\)</span> states that if the conditional expression is <span class="arithmatex">\(true\)</span>, the entire term is evaluated to the then-branch.</li>
<li>The rule  <span class="arithmatex">\({\tt (ifF)}\)</span> is similar.</li>
<li>Rules  <span class="arithmatex">\({\tt (OpI1)}\)</span> and <span class="arithmatex">\({\tt (OpI2)}\)</span> are similar to rule <span class="arithmatex">\({\tt (IfI)}\)</span>.</li>
<li>The rule  <span class="arithmatex">\({\tt (OpC)}\)</span> invokes the built-in low level call to apply the binary operation to the two operands  <span class="arithmatex">\(c_1\)</span> and  <span class="arithmatex">\(c_2\)</span>.  </li>
</ul>
<p>The substitution rules and free variable function <span class="arithmatex">\(fv()\)</span> are also extended too</p>
<div class="arithmatex">\[
\begin{array}{rcll}
 \lbrack t_1 / x \rbrack c &amp; = &amp; c \\ 
   \lbrack t_1 / x \rbrack t_2\ op\ t_3 &amp; = &amp; (\lbrack t_1 / x \rbrack t_2)\ op\ (\lbrack t_1 / x \rbrack t_3) \\ 
  \lbrack t_1 / x \rbrack if\ t_2\ then\ t_3\ else\ t_4 &amp; = &amp; if\ \lbrack t_1 / x \rbrack t_2\ then\ \lbrack t_1 / x \rbrack t_3\ else\ \lbrack t_1 / x \rbrack t_4 \\ 
\end{array}
\]</div>
<div class="arithmatex">\[
\begin{array}{rcl}
fv(t_1\ op\ t_2) &amp; = &amp; fv(t_1) \cup fv(t_2) \\ 
fv(if\ t_1\ then\ t_2\ else\ t_3) &amp; = &amp; fv(t_1) \cup fv(t_2) \cup fv(t_3) \\
fv(c) &amp; = &amp; \{\} \\
\end{array}
\]</div>
<p>Let's consider an example:</p>
<div class="arithmatex">\[
\begin{array}{rl}
(\lambda x.if\ x==0\ then\  0\  else\  10/x)\ 2 &amp; \longrightarrow_{\scriptsize {\tt \beta}} \\
\lbrack 2/x \rbrack if\ x==0\ then\  0\  else\  10/x &amp; \longrightarrow_{\scriptsize {\tt (substitution)}} \\
if\ 2==0\ then\  0\  else\  10/2 &amp; \longrightarrow_{\scriptsize {\tt (IfI)}} \\
if\ false\ then\ 0\  else\  10/2 &amp; \longrightarrow_{\scriptsize {\tt (IfF)}} \\
10/2 &amp; \longrightarrow_{\scriptsize {\tt (OpC)}} \\
5
\end{array}
\]</div>
<h4 id="approach-2-church-encoding">Approach 2 - Church Encoding<a class="headerlink" href="#approach-2-church-encoding" title="Permanent link">&para;</a></h4>
<p>Instead of extending the syntax and evaluation rules, we could encode the conditional expression in terms of the basic lambda terms.</p>
<p>Thanks to <a href="https://en.wikipedia.org/wiki/Church_encoding">Church-encoding</a> (discovered by Alonzo Church), we can encode boolean data and if-then-else using Lambda Calculus.</p>
<p>Let's define:</p>
<ul>
<li><span class="arithmatex">\(true\)</span> as <span class="arithmatex">\(\lambda x.\lambda y.x\)</span></li>
<li><span class="arithmatex">\(false\)</span> as <span class="arithmatex">\(\lambda x.\lambda y.y\)</span></li>
<li><span class="arithmatex">\(ite\)</span> (read as if-then-else) as <span class="arithmatex">\(\lambda e_1. \lambda e_2. \lambda e_3. e_1\ e_2\ e_3\)</span></li>
</ul>
<p>We assume the function application is left associative,
i.e. <span class="arithmatex">\(e_1\ e_2\ e_3 \equiv  (e_1\ e_2)\ e_3\)</span>.
For example,</p>
<div class="arithmatex">\[
\begin{array}{rl}
ite\ true\ w\ z &amp; = \\
(\lambda e_1. \lambda e_2. \lambda e_3. e_1\ e_2\ e_3)\ true\ w\ z &amp;
\longrightarrow \\
true\ w\ z &amp; =  \\
(\lambda x.\lambda y.x)\ w\ z &amp; \longrightarrow  \\
w
\end{array}
\]</div>
<h3 id="recursion">Recursion<a class="headerlink" href="#recursion" title="Permanent link">&para;</a></h3>
<p>To make our language turing complete, we need to support loops. The way to perform loops in lambda calculus is via recursion.</p>
<p>Similar to the conditional expression, there are at least two ways of introducing recursion to our language.</p>
<h4 id="approach-1-extending-the-syntax-and-the-evaluation-rules_1">Approach 1 - Extending the syntax and the evaluation rules<a class="headerlink" href="#approach-1-extending-the-syntax-and-the-evaluation-rules_1" title="Permanent link">&para;</a></h4>
<p>We extend the syntax with a mu-abstraction (<span class="arithmatex">\(\mu\)</span>):</p>
<div class="arithmatex">\[
\begin{array}{rccl}
 {\tt (Lambda\ Terms)} &amp; t &amp; ::= &amp; ... \mid \mu f.t
\end{array}
\]</div>
<p>and the evaluation rules:</p>
<div class="arithmatex">\[
\begin{array}{rl}
{\tt (\beta\ reduction)} &amp; (\lambda x.t_1)\ t_2 \longrightarrow [t_2/x] t_1 \\
{\tt (NOR)} &amp; \begin{array}{c}
                t_1 \longrightarrow t_1' \\
                \hline
                t_1\ t_2 \longrightarrow t_1'\ t_2
                \end{array} \\
{\tt (unfold)} &amp; \mu f.t \longrightarrow [(\mu f.t)/f] t  \\
\end{array}
\]</div>
<p>Note that we include the  <span class="arithmatex">\({\tt (NOR)}\)</span> rule into our evaluation rules to fix the evaluation strategy, and we only reduce the redexes that are <em>not</em> inside a lambda abstraction, otherwise the program does not terminate.</p>
<p>We include the following cases for the free variable function <span class="arithmatex">\(fv()\)</span> and the substitution</p>
<div class="arithmatex">\[
\begin{array}{rcl}
fv(\mu f.t) &amp; = &amp; fv(t) - \{f\}
\end{array}
\]</div>
<p>and </p>
<div class="arithmatex">\[
\begin{array}{rcl}
 \lbrack t_1 / x \rbrack \mu f.t_2 &amp; = &amp; \mu f.\lbrack t_1 / x \rbrack t_2 &amp; {\tt if}\  f\neq x\  {\tt and}\  f \not \in fv(t_1)
\end{array}
\]</div>
<p>For instance:</p>
<div class="arithmatex">\[
\begin{array}{rl}
(\mu f.\lambda x.if\ x==1\ then\ 1\ else\ x*(f\ (x-1)))\ 3 &amp; \longrightarrow_{\scriptsize {\tt(NOR)+(unfold)}} \\
(\lbrack (\mu f.\lambda x.if\ x==1\ then\ 1\ else\ x*(f\ (x-1)))/f \rbrack \lambda x.if\ x==1\ then\ 1\ else\ x*(f\ (x-1)))\ 3 &amp; \longrightarrow_{\scriptsize {\tt (substitution) + (\alpha)}} \\
(\lambda x.if\ x==1\ then\ 1\ else\ x*((\mu f.\lambda y.if\ y==1\ then\ 1\ else\ y*(f\ (y-1)))\ (x-1)))\ 3 &amp; \longrightarrow_{\scriptsize {\tt (\beta)}} \\
\lbrack 3/x \rbrack if\ x==1\ then\ 1\ else\ x*((\mu f.\lambda y.if\ y==1\ then\ 1\ else\ y*(f\ (y-1)))\ (x-1)) &amp; \longrightarrow_{\scriptsize {\tt (substitution)}} \\
if\ 3==1\ then\ 1\ else\ 3*((\mu f.\lambda y.if\ y==1\ then\ 1\ else\ y*(f\ (y-1)))\ (3-1)) &amp; \longrightarrow_{\scriptsize {\tt (ifI)+(OpC)}} \\
if\ false\ then\ 1\ else\ 3*((\mu f.\lambda y.if\ y==1\ then\ 1\ else\ y*(f\ (y-1)))\ (3-1)) &amp; \longrightarrow_{\scriptsize {\tt (ifF)}} \\
3*((\mu f.\lambda y.if\ y==1\ then\ 1\ else\ y*(f\ (y-1)))\ (3-1)) &amp; \longrightarrow_{\scriptsize {\tt (OpI2)}} \\
... \\
3*(2*1)
\end{array}
\]</div>
<p>The <span class="arithmatex">\({\tt (unfold)}\)</span> rule, (just like alpha-renaming), is not contributing to the progress in the evaluation directly. If we keep applying <span class="arithmatex">\({\tt (unfold)}\)</span> repeatedly without applying other rules, we are just expanding the lambda term infinitely without making progress. Hence we apply the <span class="arithmatex">\({\tt (unfold)}\)</span> rule only when there is no other applicable rule. (Just like alpha renaming, we only rename when we foresee a name clashing in substitution.)</p>
<p>Another important point to note is that the set of rewriting rules we have gathered so far <span class="arithmatex">\({\tt (\beta-reduction)}\)</span>, <span class="arithmatex">\({\tt (NOR)}\)</span>, <span class="arithmatex">\({\tt (unfold)}\)</span>, <span class="arithmatex">\({\tt (IfT)}\)</span>, <span class="arithmatex">\({\tt (IfF)}\)</span>, <span class="arithmatex">\({\tt (IfI)}\)</span>, <span class="arithmatex">\({\tt (OpC)}\)</span>, <span class="arithmatex">\({\tt (OpI2)}\)</span> and <span class="arithmatex">\({\tt (OpI1)}\)</span> are syntax-directed, i.e. the LHS of the <span class="arithmatex">\(\longrightarrow\)</span> in the conclusion, which is AKA the head of the rule is unique if we try applying the rules in this specific order. A clear advantage of this is that we can view this deduction rule system as an algorithm, i.e. an implementation that resembles this specification exists. We will see this in the later part of this course. </p>
<h4 id="approach-2-church-encoding_1">Approach 2 - Church Encoding<a class="headerlink" href="#approach-2-church-encoding_1" title="Permanent link">&para;</a></h4>
<p>Alternatively,
recursion can be encoded using the fix-pointer combinator (AKA  <span class="arithmatex">\(Y\)</span>-combinator). Let <span class="arithmatex">\(Y\)</span> be</p>
<div class="arithmatex">\[
\lambda f.((\lambda y. (f\ (y\ y)))~(\lambda x.(f\ (x\ x))))
\]</div>
<p>We find that for any function <span class="arithmatex">\(g\)</span>, we have
<span class="arithmatex">\(Y\ g = g\ (Y\ g)\)</span>.</p>
<p>We will work on the derivation during exercise.</p>
<p>Let's try to implement the factorial function over natural numbers:</p>
<div class="arithmatex">\[
\begin{array}{cc}
   fac(n) = \left [
         \begin{array}{ll}
            1 &amp;  {if}~ n = 0 \\
            n*fac(n-1) &amp; {otherwise}
         \end{array} \right .
\end{array}
\]</div>
<p>Our goal is to look for a fixpoint function <span class="arithmatex">\(Fac\)</span> such that
<span class="arithmatex">\(Y\ Fac \longrightarrow Fac\ (Y\ Fac)\)</span> and <span class="arithmatex">\(Y\ Fac\)</span> implements
the above definition.</p>
<p>Let <span class="arithmatex">\(Fac\)</span> be</p>
<div class="arithmatex">\[
\begin{array}{c}
 \lambda fac. \lambda n. ite\ (iszero\ n)\ one\ (mul\ n\ (fac\ (pred\ n)))
\end{array}
\]</div>
<p>where <span class="arithmatex">\(iszero\)</span> tests whether a number is 0 in Church Encoding. <span class="arithmatex">\(mul\)</span> multiplies two
numbers. <span class="arithmatex">\(pred\)</span> takes a number and return its predecessor in natural
number order. Then <span class="arithmatex">\(Y\ Fac\)</span> will be the implementation of the factorial function
described above.</p>
<h4 id="discussion-1">Discussion 1<a class="headerlink" href="#discussion-1" title="Permanent link">&para;</a></h4>
<p>How to define the following?</p>
<ul>
<li><span class="arithmatex">\(one\)</span></li>
<li><span class="arithmatex">\(iszero\)</span></li>
<li><span class="arithmatex">\(mul\)</span></li>
<li><span class="arithmatex">\(pred\)</span></li>
</ul>
<h4 id="discussion-2">Discussion 2<a class="headerlink" href="#discussion-2" title="Permanent link">&para;</a></h4>
<p>The current evaluation strategy presented resembles the call-by-need semantics, in which the function arguments are not evaluated until they are needed. What modification will be required if we want to implement a call-by-value semantics (AKA. strict evaluation)?</p>
<blockquote>
<p>We will work on the two topics discussed above during the cohort class.</p>
</blockquote>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>We have covered</p>
<ul>
<li>Syntax (lambda terms) and Semantics (<span class="arithmatex">\(\beta\)</span> reduction, substitution, <span class="arithmatex">\(\alpha\)</span> renaming).</li>
<li>Evaluation strategies, their properties and connection to real world programming</li>
<li>Extending lambda calculus to support conditional and loop<ul>
<li>Via language extension (we will use)</li>
<li>Via Church encoding (fun but not very pragmatic in our context)</li>
</ul>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate", "content.code.copy", "navigation.expand", "navigation.indexes", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>